<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>STOCK-VISION</title>
  <link rel="stylesheet" href="../styles/inventariouser.css">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet">  
</head>
<body>
  <!-- Fondo con efecto de nieve -->
  <div class="snow-background" id="snowContainer"></div>
  
  <!-- Luces navideñas parpadeantes -->
  <div class="christmas-lights" id="lightsContainer"></div>
  
  <!-- Esferas navideñas decorativas -->
  <div class="christmas-ornaments">
    <div class="ornament red" style="top: 10%; left: 5%;"></div>
    <div class="ornament gold" style="top: 15%; right: 7%;"></div>
    <div class="ornament blue" style="bottom: 20%; left: 8%;"></div>
    <div class="ornament green" style="bottom: 15%; right: 10%;"></div>
    <div class="ornament silver" style="top: 25%; left: 15%;"></div>
    <div class="ornament red" style="top: 60%; right: 15%;"></div>
    <div class="ornament gold" style="bottom: 30%; left: 20%;"></div>
    <div class="ornament blue" style="top: 40%; right: 25%;"></div>
  </div>
<body>
  <div class="container">
    <a href="usuario.html" class="back-btn">⬅ Volver al Panel</a>
     <a href="inventariousersincodigo.html" class="back-btn">⬅ Volver al Inventario sin codigos</a>
    <h1>Inventario de Productos</h1>

    <!-- Leyenda de colores -->
    <div class="color-legend">
      <div class="legend-item">
        <div class="legend-box green"></div>
        <span>Stock suficiente (más de 10)</span>
      </div>
      <div class="legend-item">
        <div class="legend-box yellow"></div>
        <span>Stock medio (entre 2 y 10)</span>
      </div>
      <div class="legend-item">
        <div class="legend-box red"></div>
        <span>Stock crítico (1 o menos)</span>
      </div>
    </div>

    <div class="actions-header">
      <input type="text" id="searchInput" placeholder="Buscar por código o descripción...">
      <button id="verMovimientoBtn" class="ver-movimiento-btn">Ver lista de movimiento</button>
    </div>

    <div class="table-scroll-container">
  <table id="inventoryTable">
    <thead>
      <tr>
        <th>Código</th>
        <th>Descripción</th>
        <th>UM</th>
        <th>INVENTARIO I069</th>
        <th>INVENTARIO I078</th>
        <th>INVENTARIO I07F</th>
        <th>INVENTARIO I312</th>
        <th>INVENTARIO I073</th>
        <th>INVENTARIO FÍSICO EN ALMACÉN</th>
        <th class="acciones-head">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <!-- Los productos se cargarán dinámicamente aquí -->
    </tbody>
  </table>
</div>


    <!-- Controles de paginación al final -->
    <div id="paginationControlsBottom" class="pagination-controls"></div>
  </div>

  <!-- SOLUCIÓN: Verifica la ruta correcta de seguridad.js -->
  <script src="../js/seguridad.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Solo ejecutar si las funciones existen
        if (typeof checkAuth === 'function') {
            checkAuth();
        }
        if (typeof displayUserInfo === 'function') {
            displayUserInfo();
        }
    });
  </script>

  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="../js/inventariouser.js"></script>
</body>
</html>