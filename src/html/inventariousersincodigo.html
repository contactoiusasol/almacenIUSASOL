<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Almacén - IUSA (sin códigos)</title>
  <link rel="stylesheet" href="../styles/inventariousersincodigo.css" />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet"/>
</head>
<body>
  <div class="container">
    <a href="usuario.html" class="back-btn">⬅ Volver al Panel</a>
    <a href="inventariouser.html" class="back-btn">⬅ Volver al Inventario con codigos</a>
    <h1>Inventario de Productos (sin códigos)</h1>

    <!-- Leyenda de colores -->
    <div class="color-legend" aria-hidden="true" style="display:flex; gap:12px; flex-wrap:wrap; margin-bottom:12px;">
      <div class="legend-item" style="display:flex; align-items:center; gap:8px;">
        <div class="legend-box green" style="width:18px; height:18px; border-radius:4px; background:#c8f7d4; border:1px solid #7bd389;"></div>
        <span>Stock suficiente (más de 10)</span>
      </div>
      <div class="legend-item" style="display:flex; align-items:center; gap:8px;">
        <div class="legend-box yellow" style="width:18px; height:18px; border-radius:4px; background:#fff3cd; border:1px solid #ffd966;"></div>
        <span>Stock medio (entre 2 y 10)</span>
      </div>
      <div class="legend-item" style="display:flex; align-items:center; gap:8px;">
        <div class="legend-box red" style="width:18px; height:18px; border-radius:4px; background:#ffd6d6; border:1px solid #ff8a8a;"></div>
        <span>Stock crítico (1 o menos)</span>
      </div>
    </div>

    <div class="actions-header">
      <input type="text" id="searchInput" placeholder="Buscar por código o descripción..." />
      <button id="verMovimientoBtn" class="ver-movimiento-btn">Ver lista de movimiento</button>
    </div>
    <div class="table-scroll-container">
      <table id="inventoryTable">
        <thead>
          <tr>
            <th>Código</th>
            <th>Descripción</th>
            <th>UM</th>
            <th>INVENTARIO I069</th>
            <th>INVENTARIO I078</th>
            <th>INVENTARIO I07F</th>
            <th>INVENTARIO I312</th>
            <th>INVENTARIO I073</th>
            <th>INVENTARIO FÍSICO EN ALMACÉN</th>
            <th class="acciones-head">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <!-- Los productos se cargarán dinámicamente aquí -->
        </tbody>
      </table>
    </div>

    <!-- Controles de paginación al final -->
    <div id="paginationControlsBottom" class="pagination-controls"></div>
  </div>

  <!-- Seguridad / Auth (verifica ruta si usas otra) -->
  <script src="../js/seguridad.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof checkAuth === 'function') checkAuth();
      if (typeof displayUserInfo === 'function') displayUserInfo();
    });
  </script>

  <!-- Supabase -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  <!-- Tu script específico para "sin códigos" -->
  <script src="../js/inventario-sin-coidgos-user.js"></script>
</body>
</html>
